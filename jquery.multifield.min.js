/* jquery-multifield - v2.0.0 - https://github.com/maxkostinevich/jquery-multifield */
!function($,window,document,undefined){var multiField=function(a,b){this.elem=a,this.$elem=$(a),this.options=b,this.localize_i18n={multiField:{messages:{removeConfirmation:"Are you sure you want to remove this section?"}}},this.metadata=this.$elem.data("mfield-options")};multiField.prototype={defaults:{max:0,locale:"default"},init:function(){var a=this;return this.config=$.extend({},this.defaults,this.options,this.metadata),"default"!==this.config.locale&&(a.localize_i18n=this.config.locale),this.getSectionsCount()<2&&$(this.config.btnRemove,this.$elem).hide(),this.$elem.on("click",this.config.btnAdd,function(b){b.preventDefault(),a.cloneSection()}),this.$elem.on("click",this.config.btnRemove,function(b){b.preventDefault();var c=$(b.target.closest(a.config.section));a.removeSection(c)}),this},cloneSection:function(){if(0!==this.config.max&&this.getSectionsCount()+1>this.config.max)return!1;var newChild=$(this.config.section,this.$elem).last().clone().attr("style","").attr("id","").fadeIn("fast");$("input[type=text],input[type=date],input[type=hidden],textarea",newChild).each(function(){$(this).val("")}),$("input[data-plugin=datetimepicker]",newChild).each(function(){$(this).datetimepicker(eval("["+$(this).attr("data-options")+"]")[0])}),$("select[data-plugin=select2]",newChild).each(function(){var a=[];$(this).find("option").each(function(){a.push({id:this.value,text:this.value})});var b=$(this).next().css("width");$(this).select2({data:a}),$(this).siblings(".select2").last().remove(),$(this).next().css("width",b)}),this.incrementInput(newChild,"input.increment,textarea.increment,select.increment"),this.incrementInput(newChild,'input[type="radio"]'),$("input[type=radio]",newChild).attr("checked",!1),$("img.reset-image-src",newChild).each(function(){$(this).attr("src","")}),this.$elem.children(this.config.section).last().after(newChild),$(this.config.btnRemove,this.$elem).show()},removeSection:function(a){if(confirm(this.localize_i18n.multiField.messages.removeConfirmation)){var b=this.getSectionsCount();b<=2&&$(this.config.btnRemove,this.$elem).hide(),a.slideUp("fast",function(){$(this).detach()})}},incrementInput:function(a,b){a.find(b).each(function(){var a=$(this).attr("name");$(this).attr("name",a.replace(/([0-9]+)/g,1*a.match(/([0-9]+)/g)+1))})},getSectionsCount:function(){return this.$elem.children(this.config.section).length}},multiField.defaults=multiField.prototype.defaults,$.fn.multifield=function(a){return this.each(function(){new multiField(this,a).init()})}}(jQuery,window,document);